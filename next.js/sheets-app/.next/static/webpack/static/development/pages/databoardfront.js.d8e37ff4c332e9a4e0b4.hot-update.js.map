{"version":3,"file":"static/webpack/static\\development\\pages\\databoardfront.js.d8e37ff4c332e9a4e0b4.hot-update.js","sources":["webpack:///./components/databoard.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { AllOrders, WaitingOrders, PayBackOrders, Excess, Absent } from '../apis/datas'\r\nimport 'antd/dist/antd.css'\r\nimport { Card, Table, Row, Col } from 'antd'\r\nimport { Bar } from 'react-chartjs-2'\r\nimport CheckLogin from '../components/CheckLogin'\r\nimport { withCookies } from 'react-cookie'\r\nclass databoard extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            user: '1234',\r\n            dataTable: [],\r\n\r\n            AllOdersData: [],\r\n            AllOdersRow: 0,\r\n            AllOdersMonney: 0,\r\n\r\n            WaitingData: [],\r\n            WaitingRow: 0,\r\n            WaitingMonney: 0,\r\n\r\n            PayBackData: [],\r\n            PayBackRow: 0,\r\n            PayBackMonney: 0,\r\n\r\n            ExcessData: [],\r\n            ExcessRow: 0,\r\n            ExcessMonney: 0,\r\n\r\n            AbsentData: [],\r\n            AbsentRow: 0,\r\n            AbsentMonney: 0\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n        try {\r\n            const { cookies } = this.props\r\n            let user = cookies.get('userNumber').toString(),\r\n                store = cookies.get('storeNumber').toString()\r\n\r\n            new Promise((resolve, reject) => {\r\n                let orders = AllOrders(user, store)\r\n                resolve(orders)\r\n            })\r\n                .then(res => {\r\n                    let AllOdersRow = res.length\r\n                    let totalMonney = 0\r\n                    res.forEach(v => {\r\n                        totalMonney = +totalMonney + +v.price\r\n                        return totalMonney\r\n                    })\r\n                    this.setState({\r\n                        AllOdersData: res,\r\n                        AllOdersRow: AllOdersRow,\r\n                        AllOdersMonney: totalMonney,\r\n                    })\r\n                })\r\n\r\n            new Promise((resolve, reject) => {\r\n                let waitingOrder = WaitingOrders(user, store)\r\n                resolve(waitingOrder)\r\n            })\r\n                .then(res => {\r\n                    let WaitingRow = res.length\r\n                    let totalMonney = 0\r\n                    res.forEach(v => {\r\n                        totalMonney = +totalMonney + +v.price\r\n                    })\r\n                    this.setState({\r\n                        WaitingData: res,\r\n                        WaitingRow: WaitingRow,\r\n                        WaitingMonney: totalMonney,\r\n                    })\r\n                })\r\n\r\n            new Promise((resolve, reject) => {\r\n                let paybackorder = PayBackOrders(user, store)\r\n                resolve(paybackorder)\r\n            })\r\n                .then(res => {\r\n                    let PayBackRow = res.length\r\n                    let totalMonney = 0\r\n                    res.forEach(v => {\r\n                        totalMonney = +totalMonney + +v.price\r\n                    })\r\n                    this.setState({\r\n                        PayBackData: res,\r\n                        PayBackRow: PayBackRow,\r\n                        PayBackMonney: totalMonney,\r\n                    })\r\n                })\r\n\r\n            new Promise((resolve, reject) => {\r\n                let excess = Excess(user, store)\r\n                resolve(excess)\r\n            })\r\n                .then(res => {\r\n                    let ExcessRow = res.length\r\n                    let totalMonney = 0\r\n                    res.forEach(v => {\r\n                        totalMonney = +totalMonney + +v.received_total\r\n                        return totalMonney\r\n                    })\r\n                    this.setState({\r\n                        ExcessData: res,\r\n                        ExcessRow: ExcessRow,\r\n                        ExcessMonney: totalMonney\r\n                    })\r\n                })\r\n            //\r\n            new Promise((resolve, rejects) => {\r\n                let absent = Absent(user, store)\r\n                resolve(absent)\r\n            })\r\n                .then(res => {\r\n                    let AbsentRow = res.length\r\n                    let totalMonney = 0\r\n                    res.forEach(v => {\r\n                        totalMonney = +totalMonney + +v.received_total\r\n                        return totalMonney\r\n                    })\r\n                    this.setState({\r\n                        AbsentData: res,\r\n                        AbsentRow: AbsentRow,\r\n                        AbsentMonney: totalMonney\r\n                    })\r\n                })\r\n        } catch (error) {\r\n\r\n        }\r\n    }\r\n\r\n    Cards = (e) => {\r\n        //console.log(e.toString())\r\n        var valueCard = e.toString()\r\n        switch (valueCard) {\r\n            case \"alloder\":\r\n                let AllOdersData = this.state.AllOdersData\r\n                this.setState({\r\n                    dataTable: AllOdersData\r\n                })\r\n                break\r\n            case \"waiting\":\r\n                let WaitingData = this.state.WaitingData\r\n                this.setState({\r\n                    dataTable: WaitingData\r\n                })\r\n                break\r\n            case \"payback\":\r\n                let PayBackData = this.state.PayBackData\r\n                this.setState({\r\n                    dataTable: PayBackData\r\n                })\r\n                break\r\n            case \"excess\":\r\n                let ExcessData = this.state.ExcessData\r\n                this.setState({\r\n                    dataTable: ExcessData\r\n                })\r\n                break\r\n            case \"absent\":\r\n                let AbsentData = this.state.AbsentData\r\n                this.setState({\r\n                    dataTable: AbsentData\r\n                })\r\n                break\r\n            default:\r\n                return \"error\"\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <CheckLogin />\r\n                <Col lg={{ span: 6, offset: 1 }}>\r\n                    <Card hoverable style={{ boxShadow: \"0 3px 6px 0 rgba(0, 0, 0, 0.2)\" }}>\r\n                        {/* <Card.Grid onClick={() => this.Cards(\"alloder\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.AllOdersMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>รายการทั้งหมด</h4>\r\n                            <h4>{this.state.AllOdersRow} ออเดอร์</h4>\r\n                        </Card.Grid> */}\r\n                        <Card.Grid onClick={() => this.Cards(\"waiting\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.WaitingMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>รายการรอตรวจสอบ</h4>\r\n                            <h4>{this.state.WaitingRow} ออเดอร์</h4>\r\n                        </Card.Grid>\r\n                        <Card.Grid onClick={() => this.Cards(\"payback\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.PayBackMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>ได้รับเงินครบถ้วน</h4>\r\n                            <h4>{this.state.PayBackRow} ออเดอร์</h4>\r\n                        </Card.Grid>\r\n                        <Card.Grid onClick={() => this.Cards(\"excess\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.ExcessMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>ได้รับเงินเกิน</h4>\r\n                            <h4>{this.state.ExcessRow} ออเดอร์</h4>\r\n                        </Card.Grid>\r\n                        <Card.Grid onClick={() => this.Cards(\"absent\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.AbsentMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>ได้รับเงินคืนไม่ครบ</h4>\r\n                            <h4>{this.state.AbsentRow} ออเดอร์</h4>\r\n                        </Card.Grid>\r\n                        <Card.Grid style={cardStyle}>\r\n                            <h3>00 .-</h3>\r\n                            <h4>ปิดการขาย</h4>\r\n                            <h4>-</h4>\r\n                        </Card.Grid>\r\n                    </Card>\r\n                </Col>\r\n                <Col lg={{ span: \"14\", offset: \"1\" }}>\r\n                    <Card style={{ boxShadow: \"0 3px 6px 0 rgba(0, 0, 0, 0.2)\" }}>\r\n                        <Bar data={\r\n                            {\r\n                                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n                                datasets: [{\r\n                                    label: 'Waiting',\r\n                                    data: [12, 19, 3, 5, 2, 3],\r\n                                }, {\r\n                                    label: 'PayBack',\r\n                                    data: [11, 12, 8, 7, 8, 4],\r\n                                },\r\n                                {\r\n                                    label: 'PayBack',\r\n                                    data: [11, 12, 8, 7, 8, 4],\r\n                                }],\r\n                                options: {\r\n                                    scales: {\r\n                                        yAxisID: [{\r\n                                            id: 'a',\r\n                                            type: 'linear',\r\n                                            position: 'left'\r\n                                        }, {\r\n                                            id: 'b',\r\n                                            type: 'linear',\r\n                                            position: 'right'\r\n                                        }]\r\n                                    }\r\n                                }\r\n                            }\r\n                        } />\r\n                    </Card>\r\n                    <Table size=\"small\" columns={columns} dataSource={this.state.dataTable} style={{ boxShadow: \"0 3px 6px 0 rgba(0, 0, 0, 0.2)\" }} scroll={{ x: 500, y: 500 }} />\r\n                </Col >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withCookies(databoard)\r\nconst columns = [{\r\n    title: 'วันที่',\r\n    dataIndex: 'dates',\r\n    key: 'dates',\r\n    width: 100\r\n}, {\r\n    title: 'เลขพัสดุ',\r\n    dataIndex: 'number',\r\n    key: 'number',\r\n    width: 150\r\n}, {\r\n    title: 'ราคาสินค้า\t',\r\n    dataIndex: 'price',\r\n    key: 'price',\r\n    width: 100\r\n}, {\r\n    title: 'ชื่อลูกค้า',\r\n    dataIndex: 'customer',\r\n    key: 'customer',\r\n    width: 150\r\n}, {\r\n    title: 'ที่อยู่จัดส่งพัสดุ',\r\n    dataIndex: 'address',\r\n    key: 'address',\r\n    width: 250\r\n}, {\r\n    title: 'รหัสไปรษณี',\r\n    dataIndex: 'post',\r\n    key: 'post',\r\n    width: 100\r\n}, {\r\n    title: 'เบอร์ติดต่อ',\r\n    dataIndex: 'phone',\r\n    key: 'phone',\r\n    width: 150\r\n}]\r\n\r\nconst cardStyle = {\r\n    width: '50%',\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AA+HA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AAAA;AACA;AAhCA;AAkCA;AACA;AAlKA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAtBA;AAFA;AA0BA;AACA;;;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAGA;;;AAwCA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAKA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AALA;AADA;AAbA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAhPA;AACA;AAkPA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAJA;AAOA;AACA;AADA;;;;A","sourceRoot":""}