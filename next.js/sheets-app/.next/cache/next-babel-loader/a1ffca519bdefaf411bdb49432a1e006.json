{"ast":null,"code":"import _Col from \"antd/lib/col\";\nimport _Icon from \"antd/lib/icon\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Menu from \"antd/lib/menu\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Login } from '../apis/datas';\nimport 'antd/dist/antd.css';\nconst {\n  SubMenu\n} = _Menu;\nconst styleLeft = {\n  float: \"left\"\n};\nconst styleRight = {\n  float: \"right\"\n};\n\nclass Navbars extends Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"handClick\", e => {\n      let page = e.key;\n      console.log(page);\n\n      if (page === '/logout') {\n        const {\n          cookies\n        } = this.props;\n        cookies.remove('email');\n        cookies.remove('password');\n        cookies.remove('storeName');\n        cookies.remove('storeNumber');\n        cookies.remove('user');\n        cookies.remove('userNumber');\n        window.location.href = \"/\";\n      } else {\n        window.location.href = page;\n      }\n    });\n\n    _defineProperty(this, \"Mouse\", e => {\n      this.setState({\n        Icons: e\n      });\n    });\n\n    this.state = {\n      storeName: \"\",\n      Icons: \"down\",\n\n      /*LoginStat:\r\n        <Menu.Item style={styleRight} key={'/login'} >\r\n          เข้าสู่ระบบ < Icon type={\"logout\"} />\r\n        </Menu.Item>*/\n      LoginStat: {\n        text: \"Login\",\n        key: \"/login\",\n        icon: \"login\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      cookies\n    } = this.props;\n    let user = cookies.get(\"user\"),\n        pass = cookies.get(\"password\");\n\n    if (user !== undefined && pass !== undefined) {\n      new _Promise((resolve, reject) => {\n        resolve(Login(user, pass));\n      }).then(res => {\n        console.log(res);\n\n        if (res === false) {\n          cookies.remove(\"user\");\n          cookies.remove(\"password\");\n        } else {\n          cookies.set('storeName', res.map(a => a.user_store_name));\n          cookies.set('storeNumber', res.map(a => a.user_store_number));\n          cookies.set('email', res.map(a => a.user_profiles_email));\n          cookies.set('userNumber', res.map(a => a.user_profile_number));\n          this.setState({\n            storeName: cookies.get('storeName'),\n            LoginStat: {\n              text: \"ร้าน \" + cookies.get('storeName'),\n              key: \"/logout\",\n              icon: \"logout\"\n            }\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    return __jsx(_Col, {\n      lg: {\n        span: 20,\n        offset: 2\n      }\n    }, __jsx(\"div\", {\n      style: {\n        paddingTop: 10\n      }\n    }, __jsx(\"div\", {\n      style: {\n        position: \"absolute\",\n        textAlign: \"center\",\n        width: \"100%\"\n      }\n    }, __jsx(\"img\", {\n      src: \"https://seeklogo.com/images/N/next-js-logo-7929BCD36F-seeklogo.com.png\",\n      width: \"5%\"\n    })), __jsx(_Menu, {\n      mode: \"horizontal\",\n      onClick: this.handClick,\n      style: {\n        borderColor: \"#FFFFFF\",\n        fontSize: \"17px\"\n      }\n    }, __jsx(_Menu.Item, {\n      style: styleLeft,\n      key: \"/index\"\n    }, \"\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"), __jsx(_Menu.Item, {\n      style: styleLeft,\n      key: \"/package\"\n    }, \"\\u0E41\\u0E1E\\u0E01\\u0E40\\u0E01\\u0E08\"), __jsx(_Menu.Item, {\n      style: styleLeft,\n      key: \"/contact\"\n    }, \"\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\\u0E40\\u0E23\\u0E32\"), __jsx(_Menu.Item, {\n      style: styleRight,\n      key: this.state.LoginStat.key\n    }, this.state.LoginStat.text, \" \", __jsx(_Icon, {\n      type: this.state.LoginStat.icon\n    })), __jsx(_Menu.Item, {\n      style: styleRight,\n      key: '/databoardfront'\n    }, \"DataBoard\"), __jsx(SubMenu, {\n      title: __jsx(\"div\", null, \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25 \", __jsx(_Icon, {\n        type: this.state.Icons\n      })),\n      style: styleRight,\n      onTitleMouseEnter: () => this.Mouse(\"menu\"),\n      onTitleMouseLeave: () => this.Mouse(\"down\")\n    }, __jsx(_Menu.ItemGroup, null, __jsx(_Menu.Item, {\n      key: \"/cod_waiting\"\n    }, \"cod_waiting\"), __jsx(_Menu.Item, {\n      key: \"/cod_payback\"\n    }, \"cod_paybak\"))))));\n  }\n\n}\n\nexport default withCookies(Navbars);","map":null,"metadata":{},"sourceType":"module"}