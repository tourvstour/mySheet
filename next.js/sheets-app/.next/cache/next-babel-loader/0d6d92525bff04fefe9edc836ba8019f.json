{"ast":null,"code":"import _Col from \"antd/lib/col\";\nimport _Card from \"antd/lib/card\";\nimport _Button from \"antd/lib/button\";\nimport _Input from \"antd/lib/input\";\nimport _Icon from \"antd/lib/icon\";\nimport _message from \"antd/lib/message\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Login } from '../apis/datas';\nimport 'antd/dist/antd.css';\n\nclass C_login extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"Login\", () => {\n      const {\n        cookies\n      } = this.props;\n      let user = document.getElementById('user').value,\n          password = document.getElementById('password').value,\n          dateExpires = new Date();\n      dateExpires.setTime(dateExpires.getTime() + 24 * 60 * 60 * 1000);\n      new _Promise((resolve, reject) => {\n        resolve(Login(user, password));\n      }).then(res => {\n        //console.log(res)\n        if (res === false) {\n          _message.loading(\"ลงชื่อเข้าใช้งาน....\", 2).then(() => _message.error(\"ไม่พบEmail & Password\"));\n        } else {\n          _message.loading(\"ลงชื่อเข้าใช้งาน....\", 1).then(() => {\n            _message.success(\"ลงชื่อเข้าใช้งาน\", 3).then(() => window.location.href = \"/databoardfront\");\n\n            cookies.set('user', user, {\n              expires: dateExpires\n            });\n            cookies.set('password', password, {\n              expires: dateExpires\n            });\n            cookies.set('storeName', res.map(a => a.user_store_name));\n            cookies.set('storeNumber', res.map(a => a.user_store_number));\n            cookies.set('email', res.map(a => a.user_profiles_email));\n            cookies.set('userNumber', res.map(a => a.user_profile_number));\n          });\n        }\n      });\n    });\n\n    _defineProperty(this, \"Regiter\", () => {\n      window.location.href = \"/regiter\";\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      style: {\n        padding: \"2.7% 0 0 0\"\n      }\n    }, __jsx(\"div\", {\n      style: {\n        backgroundImage: \"url('https://c.wallhere.com/photos/52/24/illustration_rocket_lift_off-875671.jpg!d')\",\n        width: \"100%\",\n        height: \"90%\",\n        padding: \"5% 0 10% 0\",\n        position: \"absolute\"\n      }\n    }, __jsx(_Col, {\n      lg: {\n        span: 8,\n        offset: 8\n      }\n    }, __jsx(\"div\", {\n      style: {\n        textAlign: \"center\"\n      }\n    }, __jsx(\"h2\", null, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E23\\u0E30\\u0E1A\\u0E1A\")), __jsx(_Card, null, __jsx(_Input, {\n      id: \"user\",\n      placeholder: \"Email\",\n      prefix: __jsx(_Icon, {\n        type: \"user\"\n      })\n    }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(_Input, {\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      prefix: __jsx(_Icon, {\n        type: \"lock\"\n      })\n    }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(_Button, {\n      block: true,\n      onClick: this.Login,\n      type: \"primary\"\n    }, \"LOGIN\"), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(\"a\", {\n      onClick: this.Regiter\n    }, \"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\")))));\n  }\n\n}\n\nexport default withCookies(C_login);","map":null,"metadata":{},"sourceType":"module"}