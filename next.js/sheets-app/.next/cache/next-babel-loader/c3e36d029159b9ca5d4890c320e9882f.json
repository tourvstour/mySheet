{"ast":null,"code":"import _Col from \"antd/lib/col\";\nimport _Icon from \"antd/lib/icon\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Menu from \"antd/lib/menu\";\nvar _jsxFileName = \"I:\\\\jobs\\\\next.js\\\\sheets-app\\\\components\\\\nav.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Login } from '../apis/datas';\nimport 'antd/dist/antd.css';\nconst {\n  SubMenu\n} = _Menu;\nconst styleLeft = {\n  float: \"left\"\n};\nconst styleRight = {\n  float: \"right\"\n};\n\nclass Navbars extends Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"handClick\", e => {\n      let page = e.key;\n      console.log(page);\n\n      if (page === '/logout') {\n        const {\n          cookies\n        } = this.props;\n        cookies.remove('email');\n        cookies.remove('password');\n        cookies.remove('storeName');\n        cookies.remove('storeNumber');\n        cookies.remove('user');\n        cookies.remove('userNumber');\n        window.location.href = \"/\";\n      } else {\n        window.location.href = page;\n      }\n    });\n\n    _defineProperty(this, \"Mouse\", e => {\n      this.setState({\n        Icons: e\n      });\n    });\n\n    this.state = {\n      storeName: \"\",\n      Icons: \"down\",\n\n      /*LoginStat:\r\n        <Menu.Item style={styleRight} key={'/login'} >\r\n          เข้าสู่ระบบ < Icon type={\"logout\"} />\r\n        </Menu.Item>*/\n      LoginStat: {\n        text: \"Login\",\n        key: \"/login\",\n        icon: \"login\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      cookies\n    } = this.props;\n    let user = cookies.get(\"user\"),\n        pass = cookies.get(\"password\");\n\n    if (user !== undefined && pass !== undefined) {\n      new _Promise((resolve, reject) => {\n        resolve(Login(user, pass));\n      }).then(res => {\n        console.log(res);\n\n        if (res === false) {\n          cookies.remove(\"user\");\n          cookies.remove(\"password\");\n        } else {\n          cookies.set('storeName', res.map(a => a.user_store_name));\n          cookies.set('storeNumber', res.map(a => a.user_store_number));\n          cookies.set('email', res.map(a => a.user_profiles_email));\n          cookies.set('userNumber', res.map(a => a.user_profile_number));\n          this.setState({\n            storeName: cookies.get('storeName'),\n            LoginStat: {\n              text: \"ร้าน \" + cookies.get('storeName'),\n              key: \"/logout\",\n              icon: \"logout\"\n            }\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    return __jsx(_Col, {\n      lg: {\n        span: 20,\n        offset: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      style: {\n        paddingTop: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      style: {\n        position: \"absolute\",\n        textAlign: \"center\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"https://seeklogo.com/images/N/next-js-logo-7929BCD36F-seeklogo.com.png\",\n      width: \"5%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), __jsx(_Menu, {\n      mode: \"horizontal\",\n      onClick: this.handClick,\n      style: {\n        borderColor: \"#FFFFFF\",\n        fontSize: \"17px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, __jsx(_Menu.Item, {\n      style: styleLeft,\n      key: \"/index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"), __jsx(_Menu.Item, {\n      style: styleLeft,\n      key: \"/package\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"\\u0E41\\u0E1E\\u0E01\\u0E40\\u0E01\\u0E08\"), __jsx(_Menu.Item, {\n      style: styleLeft,\n      key: \"/contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\\u0E40\\u0E23\\u0E32\"), __jsx(_Menu.Item, {\n      style: styleRight,\n      key: this.state.LoginStat.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.LoginStat.text, \" \", __jsx(_Icon, {\n      type: this.state.LoginStat.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), __jsx(_Menu.Item, {\n      style: styleRight,\n      key: '/databoardfront',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"DataBoard\"), __jsx(SubMenu, {\n      title: __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25 \", __jsx(_Icon, {\n        type: this.state.Icons,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })),\n      style: styleRight,\n      onTitleMouseEnter: () => this.Mouse(\"menu\"),\n      onTitleMouseLeave: () => this.Mouse(\"down\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, __jsx(_Menu.ItemGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, __jsx(_Menu.Item, {\n      key: \"/cod_waiting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"cod_waiting\"), __jsx(_Menu.Item, {\n      key: \"/cod_payback\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"cod_paybak\"))))));\n  }\n\n}\n\nexport default withCookies(Navbars);","map":{"version":3,"sources":["I:/jobs/next.js/sheets-app/components/nav.jsx"],"names":["React","Component","withCookies","Login","SubMenu","styleLeft","float","styleRight","Navbars","constructor","e","page","key","console","log","cookies","props","remove","window","location","href","setState","Icons","state","storeName","LoginStat","text","icon","componentDidMount","user","get","pass","undefined","resolve","reject","then","res","set","map","a","user_store_name","user_store_number","user_profiles_email","user_profile_number","render","span","offset","paddingTop","position","textAlign","width","handClick","borderColor","fontSize","Mouse"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Menu, Icon, Col } from 'antd'\r\nimport { withCookies } from 'react-cookie'\r\nimport { Login } from '../apis/datas'\r\nimport 'antd/dist/antd.css'\r\n\r\nconst { SubMenu } = Menu\r\nconst styleLeft = { float: \"left\" }\r\nconst styleRight = { float: \"right\" }\r\nclass Navbars extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      storeName: \"\",\r\n      Icons: \"down\",\r\n      /*LoginStat:\r\n        <Menu.Item style={styleRight} key={'/login'} >\r\n          เข้าสู่ระบบ < Icon type={\"logout\"} />\r\n        </Menu.Item>*/\r\n      LoginStat: { text: \"Login\", key: \"/login\", icon: \"login\" }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { cookies } = this.props\r\n    let user = cookies.get(\"user\"),\r\n      pass = cookies.get(\"password\")\r\n    if (user !== undefined && pass !== undefined) {\r\n      new Promise((resolve, reject) => {\r\n        resolve(Login(user, pass))\r\n      })\r\n        .then(res => {\r\n          console.log(res)\r\n          if (res === false) {\r\n            cookies.remove(\"user\")\r\n            cookies.remove(\"password\")\r\n          } else {\r\n            cookies.set('storeName', res.map(a => a.user_store_name))\r\n            cookies.set('storeNumber', res.map(a => a.user_store_number))\r\n            cookies.set('email', res.map(a => a.user_profiles_email))\r\n            cookies.set('userNumber', res.map(a => a.user_profile_number))\r\n            this.setState({\r\n              storeName: cookies.get('storeName'),\r\n              LoginStat: { text: \"ร้าน \" + cookies.get('storeName'), key: \"/logout\", icon: \"logout\" }\r\n            })\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  handClick = (e) => {\r\n    let page = e.key\r\n    console.log(page)\r\n    if (page === '/logout') {\r\n      const { cookies } = this.props\r\n      cookies.remove('email')\r\n      cookies.remove('password')\r\n      cookies.remove('storeName')\r\n      cookies.remove('storeNumber')\r\n      cookies.remove('user')\r\n      cookies.remove('userNumber')\r\n      window.location.href = \"/\"\r\n    } else {\r\n      window.location.href = page\r\n    }\r\n\r\n  }\r\n  Mouse = (e) => {\r\n    this.setState({\r\n      Icons: e\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <Col lg={{ span: 20, offset: 2 }}>\r\n        <div style={{\r\n          paddingTop: 10\r\n        }}>\r\n          <div style={{\r\n            position: \"absolute\",\r\n            textAlign: \"center\",\r\n            width: \"100%\",\r\n          }} >\r\n            <img src={\"https://seeklogo.com/images/N/next-js-logo-7929BCD36F-seeklogo.com.png\"} width=\"5%\" />\r\n          </div>\r\n\r\n          <Menu mode=\"horizontal\" onClick={this.handClick} style={{ borderColor: \"#FFFFFF\", fontSize: \"17px\" }}  >\r\n            <Menu.Item style={styleLeft} key={\"/index\"}>\r\n              หน้าแรก\r\n          </Menu.Item>\r\n            <Menu.Item style={styleLeft} key={\"/package\"}>\r\n              แพกเกจ\r\n          </Menu.Item>\r\n            <Menu.Item style={styleLeft} key={\"/contact\"}>\r\n              ติดต่อเรา\r\n          </Menu.Item>\r\n            <Menu.Item style={styleRight} key={this.state.LoginStat.key} >\r\n              {this.state.LoginStat.text} < Icon type={this.state.LoginStat.icon} />\r\n            </Menu.Item>\r\n            <Menu.Item style={styleRight} key={'/databoardfront'} >\r\n              DataBoard\r\n            </Menu.Item>\r\n            <SubMenu\r\n              title={<div>เพิ่มข้อมูล <Icon type={this.state.Icons} /></div>}\r\n              style={styleRight}\r\n              onTitleMouseEnter={() => this.Mouse(\"menu\")}\r\n              onTitleMouseLeave={() => this.Mouse(\"down\")}\r\n            >\r\n              <Menu.ItemGroup>\r\n                <Menu.Item key=\"/cod_waiting\">cod_waiting</Menu.Item>\r\n                <Menu.Item key=\"/cod_payback\">cod_paybak</Menu.Item>\r\n              </Menu.ItemGroup>\r\n            </SubMenu>\r\n          </Menu>\r\n        </div>\r\n      </Col >\r\n    )\r\n  }\r\n}\r\nexport default withCookies(Navbars)\r\n"]},"metadata":{},"sourceType":"module"}