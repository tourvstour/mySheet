{"ast":null,"code":"import _Col from \"antd/lib/col\";\nimport _Card from \"antd/lib/card\";\nimport _Button from \"antd/lib/button\";\nimport _Form from \"antd/lib/form\";\nimport _Input from \"antd/lib/input\";\nimport _message from \"antd/lib/message\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Regit } from '../apis/datas';\n\nclass Comp_regit extends Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"Check\", () => {\n      let email = document.getElementById('email'),\n          password = document.getElementById('password'),\n          confirm_password = document.getElementById('confirm'),\n          store = document.getElementById('store'),\n          phone = document.getElementById('phone');\n\n      if (email.value.includes('@') === false) {\n        this.setState({\n          buttonDis: true,\n          emailHelp: \"*รูปแบบemailไม่ถูกต้อง\",\n          emailStatus: 'error'\n        });\n      } else if (email.value.toString() === '') {\n        this.setState({\n          buttonDis: true,\n          emailHelp: \"ระบุemail\",\n          emailStatus: 'error'\n        });\n      } else {\n        this.setState({\n          emailHelp: \"\",\n          emailStatus: 'success'\n        });\n      } //password\n\n\n      if (password.value.toString() === '') {\n        this.setState({\n          buttonDis: true,\n          passHelp: '*กำหนดรหัสผ่าน',\n          passStatus: 'error'\n        });\n      } else {\n        this.setState({\n          passHelp: '',\n          passStatus: 'success'\n        });\n      } //confirmpassword\n\n\n      if (confirm_password.value.toString() === '') {\n        this.setState({\n          buttonDis: true,\n          confHelp: '*ยืนยันรหัสผ่าน',\n          confStatus: 'error'\n        });\n      } else if (confirm_password.value !== password.value) {\n        this.setState({\n          buttonDis: true,\n          confHelp: '*รหัสผ่านยืนยันไม่ตรง',\n          confStatus: 'error'\n        });\n      } else {\n        this.setState({\n          confHelp: '',\n          confStatus: 'success'\n        });\n      } //store\n\n\n      if (store.value.toString() === '') {\n        this.setState({\n          buttonDis: true,\n          storeHelp: '*ระบุชื่อร้าน',\n          storeStatus: 'error'\n        });\n      } else {\n        this.setState({\n          storeHelp: '',\n          storeStatus: 'success'\n        });\n      } //phone\n\n\n      if (phone.value.toString() === '') {\n        this.setState({\n          buttonDis: true,\n          phoneHelp: '*ระบุเบอร์ติดต่อ',\n          phoneStatus: 'error'\n        });\n      } else {\n        this.setState({\n          phoneHelp: '',\n          phoneStatus: 'success'\n        });\n      } //\n\n\n      let s_email = this.state.emailStatus,\n          s_password = this.state.passStatus,\n          s_confpassword = this.state.confStatus,\n          s_store = this.state.storeStatus,\n          s_phone = this.state.phoneStatus;\n\n      if (email.value === '' || password.value === '' || confirm_password.value === '' || store.value === '' || phone.value === '') {\n        this.setState({\n          buttonDis: true\n        });\n      } else {\n        let dataRegiter = {\n          \"email\": email.value,\n          \"passWord\": password.value,\n          \"confirmPassword\": confirm_password.value,\n          \"store\": store.value,\n          \"phone\": phone.value\n        };\n        this.setState({\n          buttonDis: false,\n          dataRegiter: dataRegiter\n        });\n      }\n    });\n\n    _defineProperty(this, \"Regit\", () => {\n      let dataRegit = this.state.dataRegiter;\n      new _Promise((resolve, reject) => {\n        let objectReturn = Regit(dataRegit);\n        resolve(objectReturn);\n      }).then(res => {\n        _message.loading('registing...', 2).then(() => {\n          let statue = res.statue.toString(),\n              mes = res.mess.toString();\n\n          if (statue === '1') {\n            _message.success(mes, 2).then(() => {\n              window.location.href = \"/login\";\n            });\n          } else if (statue === '0') {\n            _message.warning(mes, 2);\n          }\n        });\n      });\n    });\n\n    this.state = {\n      buttonDis: true,\n      dataRegiter: [],\n      emailHelp: '',\n      emailStatus: 'warning',\n      passHelp: '',\n      passStatus: 'warning',\n      confHelp: '',\n      confStatus: 'warning',\n      storeHelp: '',\n      storeStatus: 'warning',\n      phoneHelp: '',\n      phoneStatus: 'warning'\n    };\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      style: {\n        padding: \"2.7% 0 0 0\"\n      }\n    }, __jsx(\"div\", {\n      style: {\n        backgroundImage: \"url('https://c.wallhere.com/photos/52/24/illustration_rocket_lift_off-875671.jpg!d')\",\n        width: \"100%\",\n        height: \"90%\",\n        padding: \"2% 0 10% 0\",\n        position: \"absolute\"\n      }\n    }, __jsx(_Col, {\n      lg: {\n        span: 8,\n        offset: 8\n      }\n    }, __jsx(_Card, {\n      style: {\n        padding: \"0 0 10px 0 \"\n      }\n    }, __jsx(\"div\", {\n      style: {\n        textAlign: \"center\"\n      }\n    }, __jsx(\"h1\", null, \"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\")), __jsx(_Form, {\n      layout: \"vertical\",\n      onChange: this.Check\n    }, __jsx(_Form.Item, {\n      label: \"E-mail\",\n      validateStatus: this.state.emailStatus,\n      help: this.state.emailHelp\n    }, __jsx(_Input, {\n      type: \"email\",\n      id: 'email'\n    })), __jsx(_Form.Item, {\n      label: \"Password\",\n      validateStatus: this.state.passStatus,\n      help: this.state.passHelp\n    }, __jsx(_Input.Password, {\n      id: \"password\"\n    })), __jsx(_Form.Item, {\n      label: \"Confirm Password\",\n      validateStatus: this.state.confStatus,\n      help: this.state.confHelp\n    }, __jsx(_Input.Password, {\n      id: \"confirm\"\n    })), __jsx(_Form.Item, {\n      label: \"ชื่อร้านค้า\",\n      validateStatus: this.state.storeStatus,\n      help: this.state.storeHelp\n    }, __jsx(_Input, {\n      id: \"store\"\n    })), __jsx(_Form.Item, {\n      label: \"เบอร์โทร\",\n      validateStatus: this.state.phoneStatus,\n      help: this.state.phoneHelp\n    }, __jsx(_Input, {\n      id: \"phone\"\n    })), __jsx(_Form.Item, null, __jsx(_Button, {\n      onClick: this.Regit,\n      disabled: this.state.buttonDis\n    }, \"\\u0E25\\u0E07\\u0E17\\u0E30\\u0E40\\u0E1A\\u0E35\\u0E22\\u0E19\")))))));\n  }\n\n}\n\nexport default Comp_regit;","map":null,"metadata":{},"sourceType":"module"}