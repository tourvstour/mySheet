{"ast":null,"code":"import _Col from \"antd/lib/col\";\nimport _Card from \"antd/lib/card\";\nimport _Button from \"antd/lib/button\";\nimport _Input from \"antd/lib/input\";\nimport _Icon from \"antd/lib/icon\";\nimport _message from \"antd/lib/message\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\react\\\\webs\\\\next.js\\\\sheets-app\\\\components\\\\Comp_login.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Login } from '../apis/datas';\nimport 'antd/dist/antd.css';\n\nclass C_login extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"Login\", () => {\n      const {\n        cookies\n      } = this.props;\n      let user = document.getElementById('user').value,\n          password = document.getElementById('password').value,\n          dateExpires = new Date();\n      dateExpires.setTime(dateExpires.getTime() + 24 * 60 * 60 * 1000);\n      new _Promise((resolve, reject) => {\n        resolve(Login(user, password));\n      }).then(res => {\n        //console.log(res)\n        if (res === false) {\n          _message.loading(\"ลงชื่อเข้าใช้งาน....\", 2).then(() => _message.error(\"ไม่พบEmail & Password\"));\n        } else {\n          _message.loading(\"ลงชื่อเข้าใช้งาน....\", 1).then(() => {\n            _message.success(\"ลงชื่อเข้าใช้งาน\", 3).then(() => window.location.href = \"/databoardfront\");\n\n            cookies.set('user', user, {\n              expires: dateExpires\n            });\n            cookies.set('password', password, {\n              expires: dateExpires\n            });\n            cookies.set('storeName', res.map(a => a.user_store_name));\n            cookies.set('storeNumber', res.map(a => a.user_store_number));\n            cookies.set('email', res.map(a => a.user_profiles_email));\n            cookies.set('userNumber', res.map(a => a.user_profile_number));\n          });\n        }\n      });\n    });\n\n    _defineProperty(this, \"Regiter\", () => {\n      window.location.href = \"/regiter\";\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      style: {\n        padding: \"2.7% 0 0 0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      style: {\n        backgroundImage: \"url('https://c.wallhere.com/photos/52/24/illustration_rocket_lift_off-875671.jpg!d')\",\n        width: \"100%\",\n        height: \"90%\",\n        padding: \"5% 0 10% 0\",\n        position: \"absolute\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, __jsx(_Col, {\n      lg: {\n        span: 8,\n        offset: 8\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E23\\u0E30\\u0E1A\\u0E1A\")), __jsx(_Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, __jsx(_Input, {\n      id: \"user\",\n      placeholder: \"Email\",\n      prefix: __jsx(_Icon, {\n        type: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), __jsx(_Input, {\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      prefix: __jsx(_Icon, {\n        type: \"lock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), __jsx(_Button, {\n      block: true,\n      onClick: this.Login,\n      type: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"LOGIN\"), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), __jsx(\"a\", {\n      onClick: this.Regiter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\")))));\n  }\n\n}\n\nexport default withCookies(C_login);","map":{"version":3,"sources":["D:/react/webs/next.js/sheets-app/components/Comp_login.jsx"],"names":["React","Component","withCookies","Login","C_login","cookies","props","user","document","getElementById","value","password","dateExpires","Date","setTime","getTime","resolve","reject","then","res","loading","error","success","window","location","href","set","expires","map","a","user_store_name","user_store_number","user_profiles_email","user_profile_number","render","padding","backgroundImage","width","height","position","span","offset","textAlign","Regiter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Input, Button, Col, Icon, message } from 'antd'\r\nimport { withCookies } from 'react-cookie'\r\nimport { Login } from '../apis/datas'\r\nimport 'antd/dist/antd.css'\r\n\r\nclass C_login extends Component {\r\n\r\n    Login = () => {\r\n        const { cookies } = this.props\r\n        let user = document.getElementById('user').value,\r\n            password = document.getElementById('password').value,\r\n            dateExpires = new Date()\r\n        dateExpires.setTime(dateExpires.getTime() + (24 * 60 * 60 * 1000))\r\n\r\n        new Promise((resolve, reject) => {\r\n            resolve(Login(user, password))\r\n        })\r\n            .then(res => {\r\n                //console.log(res)\r\n                if (res === false) {\r\n                    message.loading(\"ลงชื่อเข้าใช้งาน....\", 2)\r\n                        .then(() => message.error(\"ไม่พบEmail & Password\"))\r\n                } else {\r\n                    message.loading(\"ลงชื่อเข้าใช้งาน....\", 1)\r\n                        .then(() => {\r\n                            message.success(\"ลงชื่อเข้าใช้งาน\", 3).then(() => window.location.href = \"/databoardfront\")\r\n                            cookies.set('user', user, { expires: dateExpires });\r\n                            cookies.set('password', password, { expires: dateExpires })\r\n                            cookies.set('storeName', res.map(a => a.user_store_name))\r\n                            cookies.set('storeNumber', res.map(a => a.user_store_number))\r\n                            cookies.set('email', res.map(a => a.user_profiles_email))\r\n                            cookies.set('userNumber', res.map(a => a.user_profile_number))\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    Regiter = () => {\r\n        window.location.href = \"/regiter\"\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{\r\n                padding: \"2.7% 0 0 0\"\r\n            }}>\r\n                <div style={{\r\n                    backgroundImage: \"url('https://c.wallhere.com/photos/52/24/illustration_rocket_lift_off-875671.jpg!d')\",\r\n                    width: \"100%\",\r\n                    height: \"90%\",\r\n                    padding: \"5% 0 10% 0\",\r\n                    position: \"absolute\"\r\n                }}>\r\n                    <Col lg={{ span: 8, offset: 8 }}>\r\n                        <div style={{ textAlign: \"center\" }}>\r\n                            <h2>เข้าสูระบบ</h2>\r\n                        </div>\r\n                        <Card >\r\n                            <Input id={\"user\"} placeholder={\"Email\"} prefix={<Icon type={\"user\"} />} />\r\n                            <br />\r\n                            <br />\r\n                            <Input id={\"password\"} type={\"password\"} placeholder={\"Password\"} prefix={<Icon type={\"lock\"} />} />\r\n                            <br />\r\n                            <br />\r\n                            <Button block onClick={this.Login} type={\"primary\"}>LOGIN</Button>\r\n                            <br />\r\n                            <br />\r\n                            <a onClick={this.Regiter}>สมัคสมาชิก</a>\r\n                        </Card>\r\n                    </Col>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withCookies(C_login)"]},"metadata":{},"sourceType":"module"}