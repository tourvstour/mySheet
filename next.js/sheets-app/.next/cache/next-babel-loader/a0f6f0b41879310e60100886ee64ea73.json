{"ast":null,"code":"import _Col from \"antd/lib/col\";\nimport _Icon from \"antd/lib/icon\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Menu from \"antd/lib/menu\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Login } from '../apis/datas';\nimport 'antd/dist/antd.css';\nvar SubMenu = _Menu.SubMenu;\nvar styleLeft = {\n  \"float\": \"left\"\n};\nvar styleRight = {\n  \"float\": \"right\"\n};\n\nvar Navbars =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Navbars, _Component);\n\n  function Navbars() {\n    var _this;\n\n    _classCallCheck(this, Navbars);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navbars).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"handClick\", function (e) {\n      var page = e.key;\n      console.log(page);\n\n      if (page === '/logout') {\n        var cookies = _this.props.cookies;\n        cookies.remove('email');\n        cookies.remove('password');\n        cookies.remove('storeName');\n        cookies.remove('storeNumber');\n        cookies.remove('user');\n        cookies.remove('userNumber');\n        window.location.href = \"/\";\n      } else {\n        window.location.href = page;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"Mouse\", function (e) {\n      _this.setState({\n        Icons: e\n      });\n    });\n\n    _this.state = {\n      storeName: \"\",\n      Icons: \"down\",\n\n      /*LoginStat:\r\n        <Menu.Item style={styleRight} key={'/login'} >\r\n          เข้าสู่ระบบ < Icon type={\"logout\"} />\r\n        </Menu.Item>*/\n      LoginStat: {\n        text: \"Login\",\n        key: \"/login\",\n        icon: \"login\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Navbars, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var cookies = this.props.cookies;\n      var user = cookies.get(\"user\"),\n          pass = cookies.get(\"password\");\n\n      if (user !== undefined && pass !== undefined) {\n        new _Promise(function (resolve, reject) {\n          resolve(Login(user, pass));\n        }).then(function (res) {\n          console.log(res);\n\n          if (res === false) {\n            cookies.remove(\"user\");\n            cookies.remove(\"password\");\n          } else {\n            cookies.set('storeName', res.map(function (a) {\n              return a.user_store_name;\n            }));\n            cookies.set('storeNumber', res.map(function (a) {\n              return a.user_store_number;\n            }));\n            cookies.set('email', res.map(function (a) {\n              return a.user_profiles_email;\n            }));\n            cookies.set('userNumber', res.map(function (a) {\n              return a.user_profile_number;\n            }));\n\n            _this2.setState({\n              storeName: cookies.get('storeName'),\n              LoginStat: {\n                text: \"ร้าน \" + cookies.get('storeName'),\n                key: \"/logout\",\n                icon: \"logout\"\n              }\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(_Col, {\n        lg: {\n          span: 20,\n          offset: 2\n        }\n      }, __jsx(\"div\", {\n        style: {\n          paddingTop: 10\n        }\n      }, __jsx(\"div\", {\n        style: {\n          position: \"absolute\",\n          textAlign: \"center\",\n          width: \"100%\"\n        }\n      }, __jsx(\"img\", {\n        src: \"https://seeklogo.com/images/N/next-js-logo-7929BCD36F-seeklogo.com.png\",\n        width: \"5%\"\n      })), __jsx(_Menu, {\n        mode: \"horizontal\",\n        onClick: this.handClick,\n        style: {\n          borderColor: \"#FFFFFF\",\n          fontSize: \"17px\"\n        }\n      }, __jsx(_Menu.Item, {\n        style: styleLeft,\n        key: \"/index\"\n      }, \"\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"), __jsx(_Menu.Item, {\n        style: styleLeft,\n        key: \"/package\"\n      }, \"\\u0E41\\u0E1E\\u0E01\\u0E40\\u0E01\\u0E08\"), __jsx(_Menu.Item, {\n        style: styleLeft,\n        key: \"/contact\"\n      }, \"\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\\u0E40\\u0E23\\u0E32\"), __jsx(_Menu.Item, {\n        style: styleRight,\n        key: this.state.LoginStat.key\n      }, this.state.LoginStat.text, \" \", __jsx(_Icon, {\n        type: this.state.LoginStat.icon\n      })), __jsx(_Menu.Item, {\n        style: styleRight,\n        key: '/databoardfront'\n      }, \"DataBoard\"), __jsx(SubMenu, {\n        title: __jsx(\"div\", null, \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25 \", __jsx(_Icon, {\n          type: this.state.Icons\n        })),\n        style: styleRight,\n        onTitleMouseEnter: function onTitleMouseEnter() {\n          return _this3.Mouse(\"menu\");\n        },\n        onTitleMouseLeave: function onTitleMouseLeave() {\n          return _this3.Mouse(\"down\");\n        }\n      }, __jsx(_Menu.ItemGroup, null, __jsx(_Menu.Item, {\n        key: \"/cod_waiting\"\n      }, \"cod_waiting\"), __jsx(_Menu.Item, {\n        key: \"/cod_payback\"\n      }, \"cod_paybak\"))))));\n    }\n  }]);\n\n  return Navbars;\n}(Component);\n\nexport default withCookies(Navbars);","map":null,"metadata":{},"sourceType":"module"}