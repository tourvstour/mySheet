{"ast":null,"code":"import _Col from \"antd/lib/col\";\nimport _Icon from \"antd/lib/icon\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Menu from \"antd/lib/menu\";\nvar _jsxFileName = \"I:\\\\jobs\\\\next.js\\\\sheets-app\\\\components\\\\nav.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Login } from '../apis/datas';\nimport 'antd/dist/antd.css';\nvar SubMenu = _Menu.SubMenu;\nvar styleLeft = {\n  \"float\": \"left\"\n};\nvar styleRight = {\n  \"float\": \"right\"\n};\n\nvar Navbars =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Navbars, _Component);\n\n  function Navbars() {\n    var _this;\n\n    _classCallCheck(this, Navbars);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navbars).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"handClick\", function (e) {\n      var page = e.key;\n      console.log(page);\n\n      if (page === '/logout') {\n        var cookies = _this.props.cookies;\n        cookies.remove('email');\n        cookies.remove('password');\n        cookies.remove('storeName');\n        cookies.remove('storeNumber');\n        cookies.remove('user');\n        cookies.remove('userNumber');\n        window.location.href = \"/\";\n      } else {\n        window.location.href = page;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"Mouse\", function (e) {\n      _this.setState({\n        Icons: e\n      });\n    });\n\n    _this.state = {\n      storeName: \"\",\n      Icons: \"down\",\n\n      /*LoginStat:\r\n        <Menu.Item style={styleRight} key={'/login'} >\r\n          เข้าสู่ระบบ < Icon type={\"logout\"} />\r\n        </Menu.Item>*/\n      LoginStat: {\n        text: \"Login\",\n        key: \"/login\",\n        icon: \"login\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Navbars, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var cookies = this.props.cookies;\n      var user = cookies.get(\"user\"),\n          pass = cookies.get(\"password\");\n\n      if (user !== undefined && pass !== undefined) {\n        new _Promise(function (resolve, reject) {\n          resolve(Login(user, pass));\n        }).then(function (res) {\n          console.log(res);\n\n          if (res === false) {\n            cookies.remove(\"user\");\n            cookies.remove(\"password\");\n          } else {\n            cookies.set('storeName', res.map(function (a) {\n              return a.user_store_name;\n            }));\n            cookies.set('storeNumber', res.map(function (a) {\n              return a.user_store_number;\n            }));\n            cookies.set('email', res.map(function (a) {\n              return a.user_profiles_email;\n            }));\n            cookies.set('userNumber', res.map(function (a) {\n              return a.user_profile_number;\n            }));\n\n            _this2.setState({\n              storeName: cookies.get('storeName'),\n              LoginStat: {\n                text: \"ร้าน \" + cookies.get('storeName'),\n                key: \"/logout\",\n                icon: \"logout\"\n              }\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(_Col, {\n        lg: {\n          span: 20,\n          offset: 2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          paddingTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          position: \"absolute\",\n          textAlign: \"center\",\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: \"https://seeklogo.com/images/N/next-js-logo-7929BCD36F-seeklogo.com.png\",\n        width: \"5%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), __jsx(_Menu, {\n        mode: \"horizontal\",\n        onClick: this.handClick,\n        style: {\n          borderColor: \"#FFFFFF\",\n          fontSize: \"17px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, __jsx(_Menu.Item, {\n        style: styleLeft,\n        key: \"/index\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"), __jsx(_Menu.Item, {\n        style: styleLeft,\n        key: \"/package\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"\\u0E41\\u0E1E\\u0E01\\u0E40\\u0E01\\u0E08\"), __jsx(_Menu.Item, {\n        style: styleLeft,\n        key: \"/contact\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\\u0E40\\u0E23\\u0E32\"), __jsx(_Menu.Item, {\n        style: styleRight,\n        key: this.state.LoginStat.key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.state.LoginStat.text, \" \", __jsx(_Icon, {\n        type: this.state.LoginStat.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), __jsx(_Menu.Item, {\n        style: styleRight,\n        key: '/databoardfront',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"DataBoard\"), __jsx(SubMenu, {\n        title: __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25 \", __jsx(_Icon, {\n          type: this.state.Icons,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        })),\n        style: styleRight,\n        onTitleMouseEnter: function onTitleMouseEnter() {\n          return _this3.Mouse(\"menu\");\n        },\n        onTitleMouseLeave: function onTitleMouseLeave() {\n          return _this3.Mouse(\"down\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, __jsx(_Menu.ItemGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, __jsx(_Menu.Item, {\n        key: \"/cod_waiting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"cod_waiting\"), __jsx(_Menu.Item, {\n        key: \"/cod_payback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"cod_paybak\"))))));\n    }\n  }]);\n\n  return Navbars;\n}(Component);\n\nexport default withCookies(Navbars);","map":{"version":3,"sources":["I:/jobs/next.js/sheets-app/components/nav.jsx"],"names":["React","Component","withCookies","Login","SubMenu","styleLeft","styleRight","Navbars","e","page","key","console","log","cookies","props","remove","window","location","href","setState","Icons","state","storeName","LoginStat","text","icon","user","get","pass","undefined","resolve","reject","then","res","set","map","a","user_store_name","user_store_number","user_profiles_email","user_profile_number","span","offset","paddingTop","position","textAlign","width","handClick","borderColor","fontSize","Mouse"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Menu, Icon, Col } from 'antd'\r\nimport { withCookies } from 'react-cookie'\r\nimport { Login } from '../apis/datas'\r\nimport 'antd/dist/antd.css'\r\n\r\nconst { SubMenu } = Menu\r\nconst styleLeft = { float: \"left\" }\r\nconst styleRight = { float: \"right\" }\r\nclass Navbars extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      storeName: \"\",\r\n      Icons: \"down\",\r\n      /*LoginStat:\r\n        <Menu.Item style={styleRight} key={'/login'} >\r\n          เข้าสู่ระบบ < Icon type={\"logout\"} />\r\n        </Menu.Item>*/\r\n      LoginStat: { text: \"Login\", key: \"/login\", icon: \"login\" }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { cookies } = this.props\r\n    let user = cookies.get(\"user\"),\r\n      pass = cookies.get(\"password\")\r\n    if (user !== undefined && pass !== undefined) {\r\n      new Promise((resolve, reject) => {\r\n        resolve(Login(user, pass))\r\n      })\r\n        .then(res => {\r\n          console.log(res)\r\n          if (res === false) {\r\n            cookies.remove(\"user\")\r\n            cookies.remove(\"password\")\r\n          } else {\r\n            cookies.set('storeName', res.map(a => a.user_store_name))\r\n            cookies.set('storeNumber', res.map(a => a.user_store_number))\r\n            cookies.set('email', res.map(a => a.user_profiles_email))\r\n            cookies.set('userNumber', res.map(a => a.user_profile_number))\r\n            this.setState({\r\n              storeName: cookies.get('storeName'),\r\n              LoginStat: { text: \"ร้าน \" + cookies.get('storeName'), key: \"/logout\", icon: \"logout\" }\r\n            })\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  handClick = (e) => {\r\n    let page = e.key\r\n    console.log(page)\r\n    if (page === '/logout') {\r\n      const { cookies } = this.props\r\n      cookies.remove('email')\r\n      cookies.remove('password')\r\n      cookies.remove('storeName')\r\n      cookies.remove('storeNumber')\r\n      cookies.remove('user')\r\n      cookies.remove('userNumber')\r\n      window.location.href = \"/\"\r\n    } else {\r\n      window.location.href = page\r\n    }\r\n\r\n  }\r\n  Mouse = (e) => {\r\n    this.setState({\r\n      Icons: e\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <Col lg={{ span: 20, offset: 2 }}>\r\n        <div style={{\r\n          paddingTop: 10\r\n        }}>\r\n          <div style={{\r\n            position: \"absolute\",\r\n            textAlign: \"center\",\r\n            width: \"100%\",\r\n          }} >\r\n            <img src={\"https://seeklogo.com/images/N/next-js-logo-7929BCD36F-seeklogo.com.png\"} width=\"5%\" />\r\n          </div>\r\n\r\n          <Menu mode=\"horizontal\" onClick={this.handClick} style={{ borderColor: \"#FFFFFF\", fontSize: \"17px\" }}  >\r\n            <Menu.Item style={styleLeft} key={\"/index\"}>\r\n              หน้าแรก\r\n          </Menu.Item>\r\n            <Menu.Item style={styleLeft} key={\"/package\"}>\r\n              แพกเกจ\r\n          </Menu.Item>\r\n            <Menu.Item style={styleLeft} key={\"/contact\"}>\r\n              ติดต่อเรา\r\n          </Menu.Item>\r\n            <Menu.Item style={styleRight} key={this.state.LoginStat.key} >\r\n              {this.state.LoginStat.text} < Icon type={this.state.LoginStat.icon} />\r\n            </Menu.Item>\r\n            <Menu.Item style={styleRight} key={'/databoardfront'} >\r\n              DataBoard\r\n            </Menu.Item>\r\n            <SubMenu\r\n              title={<div>เพิ่มข้อมูล <Icon type={this.state.Icons} /></div>}\r\n              style={styleRight}\r\n              onTitleMouseEnter={() => this.Mouse(\"menu\")}\r\n              onTitleMouseLeave={() => this.Mouse(\"down\")}\r\n            >\r\n              <Menu.ItemGroup>\r\n                <Menu.Item key=\"/cod_waiting\">cod_waiting</Menu.Item>\r\n                <Menu.Item key=\"/cod_payback\">cod_paybak</Menu.Item>\r\n              </Menu.ItemGroup>\r\n            </SubMenu>\r\n          </Menu>\r\n        </div>\r\n      </Col >\r\n    )\r\n  }\r\n}\r\nexport default withCookies(Navbars)\r\n"]},"metadata":{},"sourceType":"module"}