{"ast":null,"code":"import _Col from \"antd/lib/col\";\nimport _Card from \"antd/lib/card\";\nimport _Button from \"antd/lib/button\";\nimport _Input from \"antd/lib/input\";\nimport _Icon from \"antd/lib/icon\";\nimport _message from \"antd/lib/message\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Login } from '../apis/datas';\nimport 'antd/dist/antd.css';\n\nvar C_login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(C_login, _Component);\n\n  function C_login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, C_login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(C_login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"Login\", function () {\n      var cookies = _this.props.cookies;\n      var user = document.getElementById('user').value,\n          password = document.getElementById('password').value,\n          dateExpires = new Date();\n      dateExpires.setTime(dateExpires.getTime() + 24 * 60 * 60 * 1000);\n      new _Promise(function (resolve, reject) {\n        resolve(Login(user, password));\n      }).then(function (res) {\n        //console.log(res)\n        if (res === false) {\n          _message.loading(\"ลงชื่อเข้าใช้งาน....\", 2).then(function () {\n            return _message.error(\"ไม่พบEmail & Password\");\n          });\n        } else {\n          _message.loading(\"ลงชื่อเข้าใช้งาน....\", 1).then(function () {\n            _message.success(\"ลงชื่อเข้าใช้งาน\", 3).then(function () {\n              return window.location.href = \"/databoardfront\";\n            });\n\n            cookies.set('user', user, {\n              expires: dateExpires\n            });\n            cookies.set('password', password, {\n              expires: dateExpires\n            });\n            cookies.set('storeName', res.map(function (a) {\n              return a.user_store_name;\n            }));\n            cookies.set('storeNumber', res.map(function (a) {\n              return a.user_store_number;\n            }));\n            cookies.set('email', res.map(function (a) {\n              return a.user_profiles_email;\n            }));\n            cookies.set('userNumber', res.map(function (a) {\n              return a.user_profile_number;\n            }));\n          });\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"Regiter\", function () {\n      window.location.href = \"/regiter\";\n    });\n\n    return _this;\n  }\n\n  _createClass(C_login, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        style: {\n          padding: \"2.7% 0 0 0\"\n        }\n      }, __jsx(\"div\", {\n        style: {\n          backgroundImage: \"url('https://c.wallhere.com/photos/52/24/illustration_rocket_lift_off-875671.jpg!d')\",\n          width: \"100%\",\n          height: \"90%\",\n          padding: \"5% 0 10% 0\",\n          position: \"absolute\"\n        }\n      }, __jsx(_Col, {\n        lg: {\n          span: 8,\n          offset: 8\n        }\n      }, __jsx(\"div\", {\n        style: {\n          textAlign: \"center\"\n        }\n      }, __jsx(\"h2\", null, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E23\\u0E30\\u0E1A\\u0E1A\")), __jsx(_Card, null, __jsx(_Input, {\n        id: \"user\",\n        placeholder: \"Email\",\n        prefix: __jsx(_Icon, {\n          type: \"user\"\n        })\n      }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(_Input, {\n        id: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        prefix: __jsx(_Icon, {\n          type: \"lock\"\n        })\n      }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(_Button, {\n        block: true,\n        onClick: this.Login,\n        type: \"primary\"\n      }, \"LOGIN\"), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(\"a\", {\n        onClick: this.Regiter\n      }, \"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\")))));\n    }\n  }]);\n\n  return C_login;\n}(Component);\n\nexport default withCookies(C_login);","map":null,"metadata":{},"sourceType":"module"}