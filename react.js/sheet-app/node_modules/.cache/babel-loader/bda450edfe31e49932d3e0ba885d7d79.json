{"ast":null,"code":"import _classCallCheck from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{AllOrders,WaitingOrders,PayBackOrders,Excess,Absent,TranSport}from'../apis/datas';import{Card,Select,DatePicker,Col,Button}from'antd';import{Bar}from'react-chartjs-2';import{withCookies}from'react-cookie';var Option=Select.Option;var RangePicker=DatePicker.RangePicker;var databoard=/*#__PURE__*/function(_Component){_inherits(databoard,_Component);function databoard(){var _this;_classCallCheck(this,databoard);_this=_possibleConstructorReturn(this,_getPrototypeOf(databoard).call(this));_this.Cards=function(e){//console.log(e.toString())\nvar valueCard=e.toString();switch(valueCard){case\"alloder\":var AllOdersData=_this.state.AllOdersData;_this.setState({dataTable:AllOdersData});break;case\"waiting\":var WaitingData=_this.state.WaitingData;_this.setState({dataTable:WaitingData});break;case\"payback\":var PayBackData=_this.state.PayBackData;_this.setState({dataTable:PayBackData});break;case\"excess\":var ExcessData=_this.state.ExcessData;_this.setState({dataTable:ExcessData});break;case\"absent\":var AbsentData=_this.state.AbsentData;_this.setState({dataTable:AbsentData});break;default:return\"error\";}};_this.DatePickers=function(a,b){var date0=b[0],year0=+date0.substr(0,4)+543,mount0=date0.substr(5,2),day0=date0.substr(8,2),date1=b[1],year1=+date1.substr(0,4)+543,mount1=date1.substr(5,2),day1=date1.substr(8,2),dateStart=\"\".concat(year0,\"-\").concat(mount0,\"-\").concat(day0),dateEnd=\"\".concat(year1,\"-\").concat(mount1,\"-\").concat(day1);_this.setState({dateB:dateStart,dateN:dateEnd});};_this.TranSportSelect=function(e){_this.setState({companyNumber:\"'\".concat(e,\"'\")});};_this.hangeChange=function(){var cookies=_this.props.cookies;var user=cookies.get('userNumber').toString(),store=cookies.get('storeNumber').toString();var transportNumber=_this.state.companyNumber;var dateBefor=_this.state.dateB,dateNow=_this.state.dateN;var date={dateBefor:dateBefor,dateNow:dateNow,transportNumber:transportNumber};//\nnew Promise(function(resolve,reject){var orders=AllOrders(user,store,date);resolve(orders);}).then(function(res){var AllOdersRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.price;return totalMonney;});_this.setState({AllOdersData:res,AllOdersRow:AllOdersRow,AllOdersMonney:totalMonney});});new Promise(function(resolve,reject){var waitingOrder=WaitingOrders(user,store,date);resolve(waitingOrder);}).then(function(res){var WaitingRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.price;});_this.setState({WaitingData:res,WaitingRow:WaitingRow,WaitingMonney:totalMonney});});new Promise(function(resolve,reject){var paybackorder=PayBackOrders(user,store,date);resolve(paybackorder);}).then(function(res){var PayBackRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.price;});_this.setState({PayBackData:res,PayBackRow:PayBackRow,PayBackMonney:totalMonney});});new Promise(function(resolve,reject){var excess=Excess(user,store,date);resolve(excess);}).then(function(res){var ExcessRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.received_total;return totalMonney;});_this.setState({ExcessData:res,ExcessRow:ExcessRow,ExcessMonney:totalMonney});});//\nnew Promise(function(resolve,rejects){var absent=Absent(user,store,date);resolve(absent);}).then(function(res){var AbsentRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.received_total;return totalMonney;});_this.setState({AbsentData:res,AbsentRow:AbsentRow,AbsentMonney:totalMonney});});};_this.state={tranSportList:[],user:'',dataTable:[],companyNumber:'',AllOdersData:[],AllOdersRow:0,AllOdersMonney:0,WaitingData:[],WaitingRow:0,WaitingMonney:0,PayBackData:[],PayBackRow:0,PayBackMonney:0,ExcessData:[],ExcessRow:0,ExcessMonney:0,AbsentData:[],AbsentRow:0,AbsentMonney:0,dateN:'',dateB:''};return _this;}_createClass(databoard,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;try{var cookies=this.props.cookies;var user=cookies.get('userNumber').toString(),store=cookies.get('storeNumber').toString();var date_now=new Date();date_now.setFullYear(date_now.getFullYear()+543);var date_befor=new Date();date_befor.setMonth(date_befor.getMonth()-12);date_befor.setFullYear(date_befor.getFullYear()+543);var dateNow=date_now.toISOString().substr(0,10),dateBefor=date_befor.toISOString().substr(0,10);this.setState({dateN:dateNow,dateB:dateBefor});//\nnew Promise(function(resolve,rejects){resolve(TranSport());}).then(function(res){var companyNumber=[];res.forEach(function(e){companyNumber.push(\"'\".concat(e.transport_company_number,\"'\"));});_this2.setState({tranSportList:res,companyNumber:companyNumber.join()});//\nvar transportNumber=_this2.state.companyNumber;var dateBefor=_this2.state.dateB,dateNow=_this2.state.dateN;var date={dateBefor:dateBefor,dateNow:dateNow,transportNumber:transportNumber};new Promise(function(resolve,reject){var orders=AllOrders(user,store,date);resolve(orders);}).then(function(res){var AllOdersRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.price;return totalMonney;});_this2.setState({AllOdersData:res,AllOdersRow:AllOdersRow,AllOdersMonney:totalMonney});});new Promise(function(resolve,reject){var waitingOrder=WaitingOrders(user,store,date);resolve(waitingOrder);}).then(function(res){var WaitingRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.price;});_this2.setState({WaitingData:res,WaitingRow:WaitingRow,WaitingMonney:totalMonney});});new Promise(function(resolve,reject){var paybackorder=PayBackOrders(user,store,date);resolve(paybackorder);}).then(function(res){var PayBackRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.price;});_this2.setState({PayBackData:res,PayBackRow:PayBackRow,PayBackMonney:totalMonney});});new Promise(function(resolve,reject){var excess=Excess(user,store,date);resolve(excess);}).then(function(res){var ExcessRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.received_total;return totalMonney;});_this2.setState({ExcessData:res,ExcessRow:ExcessRow,ExcessMonney:totalMonney});});//\nnew Promise(function(resolve,rejects){var absent=Absent(user,store,date);resolve(absent);}).then(function(res){var AbsentRow=res.length;var totalMonney=0;res.forEach(function(v){totalMonney=+totalMonney+ +v.received_total;return totalMonney;});_this2.setState({AbsentData:res,AbsentRow:AbsentRow,AbsentMonney:totalMonney});});});//\n}catch(error){console.log(error);}}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",null,React.createElement(Col,{lg:{span:22,offset:1}},React.createElement(Col,null,React.createElement(Card,null,React.createElement(RangePicker,{onChange:this.DatePickers}),\"  \",React.createElement(Select,{id:\"transport\",style:{width:200},onChange:this.TranSportSelect},this.state.tranSportList.map(function(data,index){return React.createElement(Option,{key:index,value:data.transport_company_number},data.transport_company_name);})),\"  \",React.createElement(Button,{onClick:this.hangeChange},\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"))),React.createElement(\"br\",null),React.createElement(Card,{hoverable:true,style:{boxShadow:\"0 3px 6px 0 rgba(0, 0, 0, 0.2)\"}},React.createElement(Card.Grid,{onClick:function onClick(){return _this3.Cards(\"alloder\");},hoverable:true,style:cardStyle},React.createElement(\"h3\",null,this.state.AllOdersMonney.toLocaleString('en-US',{minimumFractionDigits:2}),\" \\u0E1A\\u0E32\\u0E17\"),React.createElement(\"h4\",null,\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E23\\u0E2D\\u0E15\\u0E23\\u0E27\\u0E08\\u0E2A\\u0E2D\\u0E1A\"),React.createElement(\"h4\",null,this.state.AllOdersRow,\" \\u0E2D\\u0E2D\\u0E40\\u0E14\\u0E2D\\u0E23\\u0E4C\")),React.createElement(Card.Grid,{onClick:function onClick(){return _this3.Cards(\"payback\");},hoverable:true,style:cardStyle},React.createElement(\"h3\",null,this.state.PayBackMonney.toLocaleString('en-US',{minimumFractionDigits:2}),\" \\u0E1A\\u0E32\\u0E17\"),React.createElement(\"h4\",null,\"\\u0E44\\u0E14\\u0E49\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E07\\u0E34\\u0E19\\u0E04\\u0E23\\u0E1A\\u0E16\\u0E49\\u0E27\\u0E19\"),React.createElement(\"h4\",null,this.state.PayBackRow,\" \\u0E2D\\u0E2D\\u0E40\\u0E14\\u0E2D\\u0E23\\u0E4C\")),React.createElement(Card.Grid,{onClick:function onClick(){return _this3.Cards(\"excess\");},hoverable:true,style:cardStyle},React.createElement(\"h3\",null,this.state.ExcessMonney.toLocaleString('en-US',{minimumFractionDigits:2}),\" \\u0E1A\\u0E32\\u0E17\"),React.createElement(\"h4\",null,\"\\u0E44\\u0E14\\u0E49\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E07\\u0E34\\u0E19\\u0E40\\u0E01\\u0E34\\u0E19\"),React.createElement(\"h4\",null,this.state.ExcessRow,\" \\u0E2D\\u0E2D\\u0E40\\u0E14\\u0E2D\\u0E23\\u0E4C\")),React.createElement(Card.Grid,{onClick:function onClick(){return _this3.Cards(\"absent\");},hoverable:true,style:cardStyle},React.createElement(\"h3\",null,this.state.AbsentMonney.toLocaleString('en-US',{minimumFractionDigits:2}),\" \\u0E1A\\u0E32\\u0E17\"),React.createElement(\"h4\",null,\"\\u0E44\\u0E14\\u0E49\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E07\\u0E34\\u0E19\\u0E04\\u0E37\\u0E19\\u0E44\\u0E21\\u0E48\\u0E04\\u0E23\\u0E1A\"),React.createElement(\"h4\",null,this.state.AbsentRow,\" \\u0E2D\\u0E2D\\u0E40\\u0E14\\u0E2D\\u0E23\\u0E4C\")),React.createElement(Card.Grid,{style:cardStyle},React.createElement(\"h3\",null,\"00 .-\"),React.createElement(\"h4\",null,\"\\u0E1B\\u0E34\\u0E14\\u0E01\\u0E32\\u0E23\\u0E02\\u0E32\\u0E22\"),React.createElement(\"h4\",null,\"-\")),React.createElement(Card.Grid,{style:cardStyle},React.createElement(\"h3\",null,\"00 .-\"),React.createElement(\"h4\",null,\"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E15\\u0E35\\u0E01\\u0E25\\u0E31\\u0E1A/\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"),React.createElement(\"h4\",null,\"-\")))),React.createElement(\"br\",null),React.createElement(Col,{lg:{span:22,offset:1}},React.createElement(Card,{style:{boxShadow:\"0 3px 6px 0 rgba(0, 0, 0, 0.2)\"}},React.createElement(Bar,{height:\"70%\",data:{labels:['Red','Blue','Yellow','Green','Purple','Orange'],datasets:[{label:'all',data:[12,19,3,5,2,3]},{label:'waiting',data:[11,12,8,7,8,4]},{label:'PayBack',data:[11,12,8,7,8,4]}],options:{scales:{yAxisID:[{id:'a',type:'linear',position:'left'},{id:'b',type:'linear',position:'right'}]}}}}))));}}]);return databoard;}(Component);export default withCookies(databoard);var cardStyle={width:'50%'};","map":{"version":3,"sources":["I:/jobs/react.js/sheet-app/src/components/databoard.jsx"],"names":["React","Component","AllOrders","WaitingOrders","PayBackOrders","Excess","Absent","TranSport","Card","Select","DatePicker","Col","Button","Bar","withCookies","Option","RangePicker","databoard","Cards","e","valueCard","toString","AllOdersData","state","setState","dataTable","WaitingData","PayBackData","ExcessData","AbsentData","DatePickers","a","b","date0","year0","substr","mount0","day0","date1","year1","mount1","day1","dateStart","dateEnd","dateB","dateN","TranSportSelect","companyNumber","hangeChange","cookies","props","user","get","store","transportNumber","dateBefor","dateNow","date","Promise","resolve","reject","orders","then","res","AllOdersRow","length","totalMonney","forEach","v","price","AllOdersMonney","waitingOrder","WaitingRow","WaitingMonney","paybackorder","PayBackRow","PayBackMonney","excess","ExcessRow","received_total","ExcessMonney","rejects","absent","AbsentRow","AbsentMonney","tranSportList","date_now","Date","setFullYear","getFullYear","date_befor","setMonth","getMonth","toISOString","push","transport_company_number","join","error","console","log","span","offset","width","map","data","index","transport_company_name","boxShadow","cardStyle","toLocaleString","minimumFractionDigits","labels","datasets","label","options","scales","yAxisID","id","type","position"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { AllOrders, WaitingOrders, PayBackOrders, Excess, Absent, TranSport } from '../apis/datas'\r\nimport { Card, Select, DatePicker, Col, Button } from 'antd'\r\nimport { Bar } from 'react-chartjs-2'\r\nimport { withCookies } from 'react-cookie'\r\nconst { Option } = Select\r\nconst { RangePicker } = DatePicker\r\nclass databoard extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            tranSportList: [],\r\n            user: '',\r\n            dataTable: [],\r\n            companyNumber: '',\r\n\r\n            AllOdersData: [],\r\n            AllOdersRow: 0,\r\n            AllOdersMonney: 0,\r\n\r\n            WaitingData: [],\r\n            WaitingRow: 0,\r\n            WaitingMonney: 0,\r\n\r\n            PayBackData: [],\r\n            PayBackRow: 0,\r\n            PayBackMonney: 0,\r\n\r\n            ExcessData: [],\r\n            ExcessRow: 0,\r\n            ExcessMonney: 0,\r\n\r\n            AbsentData: [],\r\n            AbsentRow: 0,\r\n            AbsentMonney: 0,\r\n\r\n            dateN: '',\r\n            dateB: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        try {\r\n            const { cookies } = this.props\r\n            var user = cookies.get('userNumber').toString(),\r\n                store = cookies.get('storeNumber').toString()\r\n\r\n            var date_now = new Date()\r\n            date_now.setFullYear(date_now.getFullYear() + 543)\r\n\r\n            var date_befor = new Date()\r\n            date_befor.setMonth(date_befor.getMonth() - 12)\r\n            date_befor.setFullYear(date_befor.getFullYear() + 543)\r\n\r\n            var dateNow = date_now.toISOString().substr(0, 10),\r\n                dateBefor = date_befor.toISOString().substr(0, 10)\r\n            this.setState({\r\n                dateN: dateNow,\r\n                dateB: dateBefor\r\n            })\r\n            //\r\n            new Promise((resolve, rejects) => {\r\n                resolve(TranSport())\r\n            }).then(res => {\r\n                let companyNumber = []\r\n                res.forEach(e => {\r\n                    companyNumber.push(`'${e.transport_company_number}'`)\r\n                })\r\n                this.setState({\r\n                    tranSportList: res,\r\n                    companyNumber: companyNumber.join()\r\n                })\r\n                //\r\n\r\n                var transportNumber = this.state.companyNumber\r\n                let dateBefor = this.state.dateB,\r\n                    dateNow = this.state.dateN\r\n                var date = { dateBefor, dateNow, transportNumber }\r\n                new Promise((resolve, reject) => {\r\n                    let orders = AllOrders(user, store, date)\r\n                    resolve(orders)\r\n                })\r\n                    .then(res => {\r\n                        let AllOdersRow = res.length\r\n                        let totalMonney = 0\r\n                        res.forEach(v => {\r\n                            totalMonney = +totalMonney + +v.price\r\n                            return totalMonney\r\n                        })\r\n                        this.setState({\r\n                            AllOdersData: res,\r\n                            AllOdersRow: AllOdersRow,\r\n                            AllOdersMonney: totalMonney,\r\n                        })\r\n                    })\r\n\r\n                new Promise((resolve, reject) => {\r\n                    let waitingOrder = WaitingOrders(user, store, date)\r\n                    resolve(waitingOrder)\r\n                })\r\n                    .then(res => {\r\n                        let WaitingRow = res.length\r\n                        let totalMonney = 0\r\n                        res.forEach(v => {\r\n                            totalMonney = +totalMonney + +v.price\r\n                        })\r\n                        this.setState({\r\n                            WaitingData: res,\r\n                            WaitingRow: WaitingRow,\r\n                            WaitingMonney: totalMonney,\r\n                        })\r\n                    })\r\n\r\n                new Promise((resolve, reject) => {\r\n                    let paybackorder = PayBackOrders(user, store, date)\r\n                    resolve(paybackorder)\r\n                })\r\n                    .then(res => {\r\n                        let PayBackRow = res.length\r\n                        let totalMonney = 0\r\n                        res.forEach(v => {\r\n                            totalMonney = +totalMonney + +v.price\r\n                        })\r\n                        this.setState({\r\n                            PayBackData: res,\r\n                            PayBackRow: PayBackRow,\r\n                            PayBackMonney: totalMonney,\r\n                        })\r\n                    })\r\n\r\n                new Promise((resolve, reject) => {\r\n                    let excess = Excess(user, store, date)\r\n                    resolve(excess)\r\n                })\r\n                    .then(res => {\r\n                        let ExcessRow = res.length\r\n                        let totalMonney = 0\r\n                        res.forEach(v => {\r\n                            totalMonney = +totalMonney + +v.received_total\r\n                            return totalMonney\r\n                        })\r\n                        this.setState({\r\n                            ExcessData: res,\r\n                            ExcessRow: ExcessRow,\r\n                            ExcessMonney: totalMonney\r\n                        })\r\n                    })\r\n                //\r\n                new Promise((resolve, rejects) => {\r\n                    let absent = Absent(user, store, date)\r\n                    resolve(absent)\r\n                })\r\n                    .then(res => {\r\n                        let AbsentRow = res.length\r\n                        let totalMonney = 0\r\n                        res.forEach(v => {\r\n                            totalMonney = +totalMonney + +v.received_total\r\n                            return totalMonney\r\n                        })\r\n                        this.setState({\r\n                            AbsentData: res,\r\n                            AbsentRow: AbsentRow,\r\n                            AbsentMonney: totalMonney\r\n                        })\r\n                    })\r\n            })\r\n            //\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    Cards = (e) => {\r\n        //console.log(e.toString())\r\n        var valueCard = e.toString()\r\n        switch (valueCard) {\r\n            case \"alloder\":\r\n                let AllOdersData = this.state.AllOdersData\r\n                this.setState({\r\n                    dataTable: AllOdersData\r\n                })\r\n                break\r\n            case \"waiting\":\r\n                let WaitingData = this.state.WaitingData\r\n                this.setState({\r\n                    dataTable: WaitingData\r\n                })\r\n                break\r\n            case \"payback\":\r\n                let PayBackData = this.state.PayBackData\r\n                this.setState({\r\n                    dataTable: PayBackData\r\n                })\r\n                break\r\n            case \"excess\":\r\n                let ExcessData = this.state.ExcessData\r\n                this.setState({\r\n                    dataTable: ExcessData\r\n                })\r\n                break\r\n            case \"absent\":\r\n                let AbsentData = this.state.AbsentData\r\n                this.setState({\r\n                    dataTable: AbsentData\r\n                })\r\n                break\r\n            default:\r\n                return \"error\"\r\n        }\r\n    }\r\n    //\r\n    DatePickers = (a, b) => {\r\n        let date0 = b[0],\r\n            year0 = +(date0.substr(0, 4)) + 543,\r\n            mount0 = date0.substr(5, 2),\r\n            day0 = date0.substr(8, 2),\r\n\r\n            date1 = b[1],\r\n            year1 = +(date1.substr(0, 4)) + 543,\r\n            mount1 = date1.substr(5, 2),\r\n            day1 = date1.substr(8, 2),\r\n\r\n            dateStart = `${year0}-${mount0}-${day0}`,\r\n            dateEnd = `${year1}-${mount1}-${day1}`\r\n\r\n        this.setState({\r\n            dateB: dateStart,\r\n            dateN: dateEnd\r\n        })\r\n    }\r\n    //\r\n    TranSportSelect = e => {\r\n        this.setState({\r\n            companyNumber: `'${e}'`\r\n        })\r\n    }\r\n    //\r\n    hangeChange = () => {\r\n        const { cookies } = this.props\r\n        var user = cookies.get('userNumber').toString(),\r\n            store = cookies.get('storeNumber').toString()\r\n        var transportNumber = this.state.companyNumber\r\n        let dateBefor = this.state.dateB,\r\n            dateNow = this.state.dateN\r\n        var date = { dateBefor, dateNow, transportNumber }\r\n\r\n        //\r\n        new Promise((resolve, reject) => {\r\n            let orders = AllOrders(user, store, date)\r\n            resolve(orders)\r\n        })\r\n            .then(res => {\r\n                let AllOdersRow = res.length\r\n                let totalMonney = 0\r\n                res.forEach(v => {\r\n                    totalMonney = +totalMonney + +v.price\r\n                    return totalMonney\r\n                })\r\n                this.setState({\r\n                    AllOdersData: res,\r\n                    AllOdersRow: AllOdersRow,\r\n                    AllOdersMonney: totalMonney,\r\n                })\r\n            })\r\n\r\n        new Promise((resolve, reject) => {\r\n            let waitingOrder = WaitingOrders(user, store, date)\r\n            resolve(waitingOrder)\r\n        })\r\n            .then(res => {\r\n                let WaitingRow = res.length\r\n                let totalMonney = 0\r\n                res.forEach(v => {\r\n                    totalMonney = +totalMonney + +v.price\r\n                })\r\n                this.setState({\r\n                    WaitingData: res,\r\n                    WaitingRow: WaitingRow,\r\n                    WaitingMonney: totalMonney,\r\n                })\r\n            })\r\n\r\n        new Promise((resolve, reject) => {\r\n            let paybackorder = PayBackOrders(user, store, date)\r\n            resolve(paybackorder)\r\n        })\r\n            .then(res => {\r\n                let PayBackRow = res.length\r\n                let totalMonney = 0\r\n                res.forEach(v => {\r\n                    totalMonney = +totalMonney + +v.price\r\n                })\r\n                this.setState({\r\n                    PayBackData: res,\r\n                    PayBackRow: PayBackRow,\r\n                    PayBackMonney: totalMonney,\r\n                })\r\n            })\r\n\r\n        new Promise((resolve, reject) => {\r\n            let excess = Excess(user, store, date)\r\n            resolve(excess)\r\n        })\r\n            .then(res => {\r\n                let ExcessRow = res.length\r\n                let totalMonney = 0\r\n                res.forEach(v => {\r\n                    totalMonney = +totalMonney + +v.received_total\r\n                    return totalMonney\r\n                })\r\n                this.setState({\r\n                    ExcessData: res,\r\n                    ExcessRow: ExcessRow,\r\n                    ExcessMonney: totalMonney\r\n                })\r\n            })\r\n        //\r\n        new Promise((resolve, rejects) => {\r\n            let absent = Absent(user, store, date)\r\n            resolve(absent)\r\n        })\r\n            .then(res => {\r\n                let AbsentRow = res.length\r\n                let totalMonney = 0\r\n                res.forEach(v => {\r\n                    totalMonney = +totalMonney + +v.received_total\r\n                    return totalMonney\r\n                })\r\n                this.setState({\r\n                    AbsentData: res,\r\n                    AbsentRow: AbsentRow,\r\n                    AbsentMonney: totalMonney\r\n                })\r\n            })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Col lg={{ span: 22, offset: 1 }}>\r\n                    <Col>\r\n                        <Card>\r\n                            <RangePicker onChange={this.DatePickers} />\r\n                            {\"  \"}\r\n                            <Select\r\n                                id={\"transport\"}\r\n                                style={{ width: 200 }}\r\n                                onChange={this.TranSportSelect}\r\n                            >\r\n                                {this.state.tranSportList.map((data, index) => (\r\n                                    <Option key={index} value={data.transport_company_number}>{data.transport_company_name}</Option>\r\n                                ))}\r\n                            </Select>\r\n                            {\"  \"}\r\n                            <Button onClick={this.hangeChange}>ค้นหา</Button>\r\n                        </Card>\r\n                    </Col>\r\n                    <br />\r\n                    <Card hoverable style={{ boxShadow: \"0 3px 6px 0 rgba(0, 0, 0, 0.2)\" }}>\r\n                        <Card.Grid onClick={() => this.Cards(\"alloder\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.AllOdersMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>รายการรอตรวจสอบ</h4>\r\n                            <h4>{this.state.AllOdersRow} ออเดอร์</h4>\r\n                        </Card.Grid>\r\n                        <Card.Grid onClick={() => this.Cards(\"payback\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.PayBackMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>ได้รับเงินครบถ้วน</h4>\r\n                            <h4>{this.state.PayBackRow} ออเดอร์</h4>\r\n                        </Card.Grid>\r\n                        {/*   <Card.Grid onClick={() => this.Cards(\"waiting\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.WaitingMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>รายการรอตรวจสอบ</h4>\r\n                            <h4>{this.state.WaitingRow} ออเดอร์</h4>\r\n                        </Card.Grid> */}\r\n                        <Card.Grid onClick={() => this.Cards(\"excess\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.ExcessMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>ได้รับเงินเกิน</h4>\r\n                            <h4>{this.state.ExcessRow} ออเดอร์</h4>\r\n                        </Card.Grid>\r\n                        <Card.Grid onClick={() => this.Cards(\"absent\")} hoverable style={cardStyle}>\r\n                            <h3>{this.state.AbsentMonney.toLocaleString('en-US', { minimumFractionDigits: 2 })} บาท</h3>\r\n                            <h4>ได้รับเงินคืนไม่ครบ</h4>\r\n                            <h4>{this.state.AbsentRow} ออเดอร์</h4>\r\n                        </Card.Grid>\r\n                        <Card.Grid style={cardStyle}>\r\n                            <h3>00 .-</h3>\r\n                            <h4>ปิดการขาย</h4>\r\n                            <h4>-</h4>\r\n                        </Card.Grid>\r\n                        <Card.Grid style={cardStyle}>\r\n                            <h3>00 .-</h3>\r\n                            <h4>สินค้าตีกลับ/ยกเลิก</h4>\r\n                            <h4>-</h4>\r\n                        </Card.Grid>\r\n                    </Card>\r\n                </Col>\r\n                <br />\r\n                <Col lg={{ span: 22, offset: 1 }}>\r\n                    <Card style={{ boxShadow: \"0 3px 6px 0 rgba(0, 0, 0, 0.2)\" }}>\r\n                        <Bar height={\"70%\"} data={\r\n                            {\r\n                                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\r\n                                datasets: [{\r\n                                    label: 'all',\r\n                                    data: [12, 19, 3, 5, 2, 3],\r\n                                }, {\r\n                                    label: 'waiting',\r\n                                    data: [11, 12, 8, 7, 8, 4],\r\n                                },\r\n                                {\r\n                                    label: 'PayBack',\r\n                                    data: [11, 12, 8, 7, 8, 4],\r\n                                }],\r\n                                options: {\r\n                                    scales: {\r\n                                        yAxisID: [{\r\n                                            id: 'a',\r\n                                            type: 'linear',\r\n                                            position: 'left'\r\n                                        }, {\r\n                                            id: 'b',\r\n                                            type: 'linear',\r\n                                            position: 'right'\r\n                                        }]\r\n                                    }\r\n                                }\r\n                            }\r\n                        } />\r\n                    </Card>\r\n                </Col >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withCookies(databoard)\r\n\r\nconst cardStyle = {\r\n    width: '50%',\r\n}"]},"metadata":{},"sourceType":"module"}