{"ast":null,"code":"import _classCallCheck from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"I:\\\\jobs\\\\react.js\\\\sheet-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Card,Input,Button,Col,Icon,message}from'antd';import{withCookies}from'react-cookie';import{Login}from'../apis/datas';var C_login=/*#__PURE__*/function(_Component){_inherits(C_login,_Component);function C_login(){var _getPrototypeOf2;var _this;_classCallCheck(this,C_login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(C_login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.Login=function(){var cookies=_this.props.cookies;var user=document.getElementById('user').value,password=document.getElementById('password').value,dateExpires=new Date();dateExpires.setTime(dateExpires.getTime()+24*60*60*1000);new Promise(function(resolve,reject){resolve(Login(user,password));}).then(function(res){//console.log(res)\nif(res===false){message.loading(\"ลงชื่อเข้าใช้งาน....\",2).then(function(){return message.error(\"ไม่พบEmail & Password\");});}else{message.loading(\"ลงชื่อเข้าใช้งาน....\",1).then(function(){message.success(\"ยินดีต้อนรับ \"+res.map(function(a){return a.user_store_name;}),2).then(function(){return window.location.href=\"/databoardfront\";});cookies.set('user',user,{expires:dateExpires});cookies.set('password',password,{expires:dateExpires});cookies.set('storeName',res.map(function(a){return a.user_store_name;}));cookies.set('storeNumber',res.map(function(a){return a.user_store_number;}));cookies.set('email',res.map(function(a){return a.user_profiles_email;}));cookies.set('userNumber',res.map(function(a){return a.user_profile_number;}));});}});};_this.Regiter=function(){window.location.href=\"/regiter\";};return _this;}_createClass(C_login,[{key:\"render\",value:function render(){return React.createElement(\"div\",{style:{padding:\"2.7% 0 0 0\"}},React.createElement(\"div\",{style:{backgroundImage:\"url('https://c.wallhere.com/photos/52/24/illustration_rocket_lift_off-875671.jpg!d')\",width:\"100%\",height:\"90%\",padding:\"5% 0 10% 0\",position:\"absolute\"}},React.createElement(Col,{lg:{span:8,offset:8}},React.createElement(\"div\",{style:{textAlign:\"center\"}},React.createElement(\"h2\",null,\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E23\\u0E30\\u0E1A\\u0E1A\")),React.createElement(Card,null,React.createElement(Input,{id:\"user\",placeholder:\"Email\",prefix:React.createElement(Icon,{type:\"user\"})}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Input,{id:\"password\",type:\"password\",placeholder:\"Password\",prefix:React.createElement(Icon,{type:\"lock\"})}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Button,{block:true,onClick:this.Login,type:\"primary\"},\"LOGIN\"),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"a\",{onClick:this.Regiter},\"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\")))));}}]);return C_login;}(Component);export default withCookies(C_login);","map":{"version":3,"sources":["I:/jobs/react.js/sheet-app/src/components/Comp_login.jsx"],"names":["React","Component","Card","Input","Button","Col","Icon","message","withCookies","Login","C_login","cookies","props","user","document","getElementById","value","password","dateExpires","Date","setTime","getTime","Promise","resolve","reject","then","res","loading","error","success","map","a","user_store_name","window","location","href","set","expires","user_store_number","user_profiles_email","user_profile_number","Regiter","padding","backgroundImage","width","height","position","span","offset","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Input, Button, Col, Icon, message } from 'antd'\r\nimport { withCookies } from 'react-cookie'\r\nimport { Login } from '../apis/datas'\r\n\r\nclass C_login extends Component {\r\n\r\n    Login = () => {\r\n        const { cookies } = this.props\r\n        let user = document.getElementById('user').value,\r\n            password = document.getElementById('password').value,\r\n            dateExpires = new Date()\r\n        dateExpires.setTime(dateExpires.getTime() + (24 * 60 * 60 * 1000))\r\n\r\n        new Promise((resolve, reject) => {\r\n            resolve(Login(user, password))\r\n        })\r\n            .then(res => {\r\n                //console.log(res)\r\n                if (res === false) {\r\n                    message.loading(\"ลงชื่อเข้าใช้งาน....\", 2)\r\n                        .then(() => message.error(\"ไม่พบEmail & Password\"))\r\n                } else {\r\n                    message.loading(\"ลงชื่อเข้าใช้งาน....\", 1)\r\n                        .then(() => {\r\n                            message.success(\"ยินดีต้อนรับ \" + res.map(a => a.user_store_name), 2).then(() => window.location.href = \"/databoardfront\")\r\n                            cookies.set('user', user, { expires: dateExpires });\r\n                            cookies.set('password', password, { expires: dateExpires })\r\n                            cookies.set('storeName', res.map(a => a.user_store_name))\r\n                            cookies.set('storeNumber', res.map(a => a.user_store_number))\r\n                            cookies.set('email', res.map(a => a.user_profiles_email))\r\n                            cookies.set('userNumber', res.map(a => a.user_profile_number))\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    Regiter = () => {\r\n        window.location.href = \"/regiter\"\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{\r\n                padding: \"2.7% 0 0 0\"\r\n            }}>\r\n                <div style={{\r\n                    backgroundImage: \"url('https://c.wallhere.com/photos/52/24/illustration_rocket_lift_off-875671.jpg!d')\",\r\n                    width: \"100%\",\r\n                    height: \"90%\",\r\n                    padding: \"5% 0 10% 0\",\r\n                    position: \"absolute\"\r\n                }}>\r\n                    <Col lg={{ span: 8, offset: 8 }}>\r\n                        <div style={{ textAlign: \"center\" }}>\r\n                            <h2>เข้าสูระบบ</h2>\r\n                        </div>\r\n                        <Card >\r\n                            <Input id={\"user\"} placeholder={\"Email\"} prefix={<Icon type={\"user\"} />} />\r\n                            <br />\r\n                            <br />\r\n                            <Input id={\"password\"} type={\"password\"} placeholder={\"Password\"} prefix={<Icon type={\"lock\"} />} />\r\n                            <br />\r\n                            <br />\r\n                            <Button block onClick={this.Login} type={\"primary\"}>LOGIN</Button>\r\n                            <br />\r\n                            <br />\r\n                            <a onClick={this.Regiter}>สมัคสมาชิก</a>\r\n                        </Card>\r\n                    </Col>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withCookies(C_login)"]},"metadata":{},"sourceType":"module"}